var o=Object.defineProperty;var l=(a,t,i)=>t in a?o(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var h=(a,t,i)=>(l(a,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();class d{constructor(t){h(this,"container");h(this,"canvas");h(this,"ctx");h(this,"startX",0);h(this,"endX",1);h(this,"startY",0);h(this,"endY",1);h(this,"t",0);h(this,"xLabel","x");h(this,"yLabel","y");h(this,"xLabelDist",0);h(this,"yLabelDist",0);h(this,"indicatorsX",[]);h(this,"indicatorsY",[]);h(this,"funcs",[]);h(this,"canvasBackgroundColor","rgb(255,255,255)");h(this,"shapeFillColor","rgb(240,240,240)");h(this,"steps",100);h(this,"rotation",0);h(this,"legendVisible",!1);h(this,"legendX");h(this,"legendY");h(this,"legendFontSize",20);this.container=document.getElementById(t),this.canvas=document.createElement("canvas"),this.canvas.style="width:100%;height:100%",this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.canvas.height=Math.round(this.canvas.clientHeight*window.devicePixelRatio),this.canvas.width=Math.round(this.canvas.clientWidth*window.devicePixelRatio),this.legendX=this.canvas.width*2/3,this.legendY=0}setLimits(t,i,e,s){this.startX=t,this.endX=i,this.startY=e,this.endY=s}setSteps(t){this.steps=t}addFunc(t){this.funcs.push(t)}setIndicators(t,i){this.indicatorsX=t,this.indicatorsY=i}clearCanvas(){this.ctx.fillStyle=this.canvasBackgroundColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}showLegend(){this.legendVisible=!0}drawAxes(){this.ctx.lineWidth=1.4,this.ctx.strokeStyle="black";let t=this.getCanvasCoordinates([0,0]);this.ctx.beginPath(),this.ctx.moveTo(t[0],this.canvas.height),this.ctx.lineTo(t[0],0),this.ctx.lineTo(t[0]-8,12),this.ctx.moveTo(t[0],0),this.ctx.lineTo(t[0]+8,12),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(0,t[1]),this.ctx.lineTo(this.canvas.width,t[1]),this.ctx.lineTo(this.canvas.width-12,t[1]-8),this.ctx.moveTo(this.canvas.width,t[1]),this.ctx.lineTo(this.canvas.width-12,t[1]+8),this.ctx.stroke(),this.ctx.fillStyle="black",this.ctx.font="24px sans-serif",this.ctx.fillText(this.yLabel,t[0]-18+this.yLabelDist,32),this.ctx.fillText(this.xLabel,this.canvas.width-28+this.xLabelDist,t[1]+18);for(let i of this.indicatorsX){let e=this.getCanvasCoordinates([i.pos,0]);this.ctx.strokeStyle=i.color,this.ctx.fillStyle=i.color,this.ctx.beginPath(),i.large?(this.ctx.setLineDash([5,15]),this.ctx.moveTo(e[0],0),this.ctx.lineTo(e[0],this.canvas.height),this.ctx.stroke(),this.ctx.setLineDash([]),this.ctx.fillText(i.name,e[0]+4,e[1]+24)):(this.ctx.moveTo(e[0],e[1]-8),this.ctx.lineTo(e[0],e[1]+8),this.ctx.stroke(),this.ctx.fillText(i.name,e[0]-10,e[1]+24))}for(let i of this.indicatorsY){let e=this.getCanvasCoordinates([0,i.pos]);this.ctx.strokeStyle=i.color,this.ctx.fillStyle=i.color,this.ctx.beginPath(),i.large?(this.ctx.setLineDash([5,15]),this.ctx.moveTo(0,e[1]),this.ctx.lineTo(this.canvas.width,e[1]),this.ctx.stroke(),this.ctx.setLineDash([]),this.ctx.fillText(i.name,e[0]-20,e[1]-5)):(this.ctx.moveTo(e[0]-8,e[1]),this.ctx.lineTo(e[0]+8,e[1]),this.ctx.stroke(),this.ctx.fillText(i.name,e[0]-24,e[1]+10))}}setLabelX(t,i){this.xLabel=t,this.xLabelDist=i||0}setLabelY(t,i){this.yLabel=t,this.yLabelDist=i||0}drawFunctions(){this.ctx.lineWidth=2;const t=(this.endX-this.startX)/this.steps;for(let i of this.funcs){this.ctx.strokeStyle=i.color,this.ctx.beginPath();for(let e=0;e<this.steps+1;e++){let s=e*t+this.startX,n=i.func(s);if(n!=null){let c=this.getCanvasCoordinates([s,n]);this.ctx.lineTo(c[0],c[1])}}this.ctx.stroke()}}drawLegend(){let t=0;this.ctx.font=`${this.legendFontSize}px sans-serif`;for(let i of this.funcs)this.ctx.strokeStyle=i.color,this.ctx.beginPath(),this.ctx.moveTo(this.legendX,this.legendY+this.legendFontSize/2+t),this.ctx.lineTo(this.legendX+20,this.legendY+this.legendFontSize/2+t),this.ctx.stroke(),this.ctx.fillStyle="black",this.ctx.fillText(i.name,this.legendX+25,this.legendY+this.legendFontSize+t),t+=this.legendFontSize}getCanvasCoordinates([t,i]){let e=(t-this.startX)*this.canvas.width/(this.endX-this.startX),s=(this.endY-i)*this.canvas.height/(this.endY-this.startY);return[e,s]}resizeDisplay(){(Math.round(this.canvas.clientWidth*window.devicePixelRatio)!==this.canvas.width||Math.round(this.canvas.clientHeight*window.devicePixelRatio)!==this.canvas.height)&&(this.canvas.height=Math.round(this.container.clientHeight*window.devicePixelRatio),this.canvas.width=Math.round(this.container.clientWidth*window.devicePixelRatio),this.legendX=2*this.canvas.width/3)}animate(t){this.resizeDisplay(),this.clearCanvas(),this.legendVisible&&this.drawLegend(),this.drawFunctions(),this.drawAxes(),this.t=t/1e3,requestAnimationFrame(this.animate.bind(this))}redraw(){this.resizeDisplay(),this.clearCanvas(),this.legendVisible&&this.drawLegend(),this.drawFunctions(),this.drawAxes()}}class x{constructor(t,i,e,s){this.pos=t,this.name=i||t.toString(),this.large=e||!1,this.color=s||"0x000000"}}class f{constructor(t,i,e){this.func=t,this.color=i||"red",this.name=e||""}}export{f as F,d as G,x as I};
